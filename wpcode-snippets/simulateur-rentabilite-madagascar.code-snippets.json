{"generator":"Code Snippets v3.9.2","date_created":"2025-11-23 19:02","snippets":[{"id":8,"name":"Simulateur Rentabilite Madagascar","code":"\n\/**\n * Phone-Help Simulateur de Rentabilit\u00e9\n * \n * Shortcode: [phone_help_simulator]\n *\/\n\nfunction phone_help_simulator_shortcode() {\n    ob_start();\n    ?>\n    \n    <style>\n        .phone-help-simulator * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        .phone-help-simulator {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: white;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n            padding: 30px;\n            color: #333;\n            max-width: 1400px;\n            margin: 20px auto;\n        }\n        \n        .phone-help-simulator h1 {\n            color: #2c3e50;\n            margin-bottom: 10px;\n            font-size: 32px;\n        }\n        \n        .phone-help-simulator .subtitle {\n            color: #7f8c8d;\n            margin-bottom: 30px;\n            font-size: 14px;\n        }\n        \n        .phone-help-simulator .section {\n            margin-bottom: 40px;\n            border: 1px solid #e0e0e0;\n            border-radius: 8px;\n            padding: 20px;\n            background: #fafafa;\n        }\n        \n        .phone-help-simulator .section-title {\n            font-size: 20px;\n            font-weight: 600;\n            color: #34495e;\n            margin-bottom: 20px;\n            padding-bottom: 10px;\n            border-bottom: 2px solid #3498db;\n        }\n        \n        .phone-help-simulator .three-columns {\n            display: grid;\n            grid-template-columns: 1fr 1fr 1fr;\n            gap: 20px;\n            margin-bottom: 20px;\n        }\n        \n        .phone-help-simulator .column {\n            background: white;\n            padding: 15px;\n            border-radius: 5px;\n            border: 1px solid #ddd;\n        }\n        \n        .phone-help-simulator .column-title {\n            font-weight: 600;\n            color: #2c3e50;\n            margin-bottom: 15px;\n            font-size: 14px;\n            text-transform: uppercase;\n            letter-spacing: 0.5px;\n        }\n        \n        .phone-help-simulator .col-client { border-left: 4px solid #3498db; }\n        .phone-help-simulator .col-freelance { border-left: 4px solid #e74c3c; }\n        .phone-help-simulator .col-marge { border-left: 4px solid #27ae60; }\n        \n        .phone-help-simulator .form-group {\n            margin-bottom: 15px;\n        }\n        \n        .phone-help-simulator label {\n            display: block;\n            margin-bottom: 5px;\n            font-size: 13px;\n            color: #555;\n            font-weight: 500;\n        }\n        \n        .phone-help-simulator input[type=\"number\"],\n        .phone-help-simulator input[type=\"text\"],\n        .phone-help-simulator select {\n            width: 100%;\n            padding: 8px 12px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            font-size: 14px;\n            transition: border-color 0.3s;\n        }\n        \n        .phone-help-simulator input[type=\"number\"]:focus,\n        .phone-help-simulator input[type=\"text\"]:focus,\n        .phone-help-simulator select:focus {\n            outline: none;\n            border-color: #3498db;\n        }\n        \n        .phone-help-simulator .readonly {\n            background: #ecf0f1;\n            color: #7f8c8d;\n            cursor: not-allowed;\n        }\n        \n        .phone-help-simulator .client-card {\n            background: white;\n            border: 1px solid #ddd;\n            border-radius: 5px;\n            padding: 15px;\n            margin-bottom: 15px;\n        }\n        \n        .phone-help-simulator .client-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 10px;\n        }\n        \n        .phone-help-simulator .client-name {\n            font-weight: 600;\n            color: #2c3e50;\n        }\n        \n        .phone-help-simulator .btn {\n            padding: 8px 16px;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 13px;\n            font-weight: 500;\n            transition: all 0.3s;\n        }\n        \n        .phone-help-simulator .btn-primary {\n            background: #3498db;\n            color: white;\n        }\n        \n        .phone-help-simulator .btn-primary:hover {\n            background: #2980b9;\n        }\n        \n        .phone-help-simulator .btn-danger {\n            background: #e74c3c;\n            color: white;\n            font-size: 11px;\n            padding: 4px 8px;\n        }\n        \n        .phone-help-simulator .btn-danger:hover {\n            background: #c0392b;\n        }\n        \n        .phone-help-simulator .btn-add {\n            background: #95a5a6;\n            color: white;\n            margin-top: 10px;\n        }\n        \n        .phone-help-simulator .btn-add:hover {\n            background: #7f8c8d;\n        }\n        \n        .phone-help-simulator .btn-calculate {\n            background: #27ae60;\n            color: white;\n            font-size: 18px;\n            padding: 15px 40px;\n            display: block;\n            margin: 30px auto;\n            box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n        }\n        \n        .phone-help-simulator .btn-calculate:hover {\n            background: #229954;\n            transform: translateY(-2px);\n            box-shadow: 0 6px 8px rgba(0,0,0,0.15);\n        }\n        \n        .phone-help-simulator .results {\n            background: #ecf0f1;\n            padding: 30px;\n            border-radius: 8px;\n            margin-top: 40px;\n        }\n        \n        .phone-help-simulator .results-title {\n            font-size: 28px;\n            color: #2c3e50;\n            text-align: center;\n            margin-bottom: 30px;\n            font-weight: 700;\n        }\n        \n        .phone-help-simulator .year-result {\n            background: white;\n            padding: 25px;\n            border-radius: 8px;\n            margin-bottom: 20px;\n            border-left: 5px solid #3498db;\n        }\n        \n        .phone-help-simulator .year-title {\n            font-size: 22px;\n            color: #2c3e50;\n            margin-bottom: 15px;\n            font-weight: 600;\n        }\n        \n        .phone-help-simulator .result-grid {\n            display: grid;\n            grid-template-columns: repeat(3, 1fr);\n            gap: 20px;\n            margin: 20px 0;\n        }\n        \n        .phone-help-simulator .result-box {\n            background: #f8f9fa;\n            padding: 15px;\n            border-radius: 5px;\n            border: 1px solid #dee2e6;\n        }\n        \n        .phone-help-simulator .result-label {\n            font-size: 12px;\n            color: #6c757d;\n            text-transform: uppercase;\n            margin-bottom: 5px;\n            font-weight: 600;\n        }\n        \n        .phone-help-simulator .result-value {\n            font-size: 24px;\n            color: #2c3e50;\n            font-weight: 700;\n        }\n        \n        .phone-help-simulator .profit-total {\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            color: white;\n            padding: 30px;\n            border-radius: 8px;\n            text-align: center;\n            margin-top: 20px;\n            box-shadow: 0 4px 15px rgba(0,0,0,0.2);\n        }\n        \n        .phone-help-simulator .profit-label {\n            font-size: 16px;\n            opacity: 0.9;\n            margin-bottom: 10px;\n        }\n        \n        .phone-help-simulator .profit-amount {\n            font-size: 48px;\n            font-weight: 700;\n        }\n        \n        .phone-help-simulator .breakdown {\n            background: white;\n            padding: 20px;\n            border-radius: 5px;\n            margin-top: 20px;\n        }\n        \n        .phone-help-simulator .breakdown-title {\n            font-size: 16px;\n            font-weight: 600;\n            color: #2c3e50;\n            margin-bottom: 15px;\n        }\n        \n        .phone-help-simulator .breakdown-line {\n            display: flex;\n            justify-content: space-between;\n            padding: 8px 0;\n            border-bottom: 1px solid #ecf0f1;\n        }\n        \n        .phone-help-simulator .breakdown-line:last-child {\n            border-bottom: none;\n            font-weight: 600;\n            font-size: 16px;\n            padding-top: 15px;\n            margin-top: 10px;\n            border-top: 2px solid #3498db;\n        }\n        \n        .phone-help-simulator .hidden {\n            display: none;\n        }\n        \n        .phone-help-simulator .freelance-block {\n            background: #fff;\n            border: 2px solid #3498db;\n            border-radius: 8px;\n            padding: 20px;\n            margin-bottom: 20px;\n        }\n        \n        .phone-help-simulator .freelance-title {\n            font-size: 18px;\n            font-weight: 600;\n            color: #2c3e50;\n            margin-bottom: 15px;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n        \n        .phone-help-simulator .note {\n            background: #fff3cd;\n            border: 1px solid #ffc107;\n            border-radius: 5px;\n            padding: 12px;\n            margin-top: 15px;\n            font-size: 13px;\n            color: #856404;\n        }\n        \n        @media (max-width: 1024px) {\n            .phone-help-simulator .three-columns {\n                grid-template-columns: 1fr;\n            }\n            \n            .phone-help-simulator .result-grid {\n                grid-template-columns: 1fr;\n            }\n        }\n    <\/style>\n\n    <div class=\"phone-help-simulator\">\n        <h1>\ud83d\udcca Phone-Help - Simulateur de Rentabilit\u00e9<\/h1>\n        <p class=\"subtitle\">Simulateur de viabilit\u00e9 \u00e9conomique avec calcul d\u00e9taill\u00e9 des marges<\/p>\n        \n        <!-- SECTION 1: TARIFS HORAIRES -->\n        <div class=\"section\">\n            <div class=\"section-title\">1. Tarification Horaire par Volume<\/div>\n            <div class=\"three-columns\">\n                <div class=\"column col-client\">\n                    <div class=\"column-title\">\ud83d\udcb0 Tarif Client<\/div>\n                    <div class=\"form-group\">\n                        <label>20-50h \/mois (\u20ac\/h)<\/label>\n                        <input type=\"number\" id=\"tarif_20_50\" value=\"8.50\" step=\"0.10\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>51-80h \/mois (\u20ac\/h)<\/label>\n                        <input type=\"number\" id=\"tarif_51_80\" value=\"7.50\" step=\"0.10\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>81-120h \/mois (\u20ac\/h)<\/label>\n                        <input type=\"number\" id=\"tarif_81_120\" value=\"7.00\" step=\"0.10\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>121-160h \/mois (\u20ac\/h)<\/label>\n                        <input type=\"number\" id=\"tarif_121_160\" value=\"6.50\" step=\"0.10\">\n                    <\/div>\n                <\/div>\n                \n                <div class=\"column col-freelance\">\n                    <div class=\"column-title\">\ud83d\udc64 Tarif Freelance<\/div>\n                    <div class=\"form-group\">\n                        <label>Ann\u00e9e 1 (\u20ac\/h)<\/label>\n                        <input type=\"number\" id=\"tarif_freelance_an1\" value=\"5.00\" step=\"0.10\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>Ann\u00e9e 2 (\u20ac\/h)<\/label>\n                        <input type=\"number\" id=\"tarif_freelance_an2\" value=\"5.00\" step=\"0.10\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>Ann\u00e9e 3 (\u20ac\/h)<\/label>\n                        <input type=\"number\" id=\"tarif_freelance_an3\" value=\"5.50\" step=\"0.10\">\n                    <\/div>\n                <\/div>\n                \n                <div class=\"column col-marge\">\n                    <div class=\"column-title\">\u2705 Ta Marge (calcul\u00e9e)<\/div>\n                    <div class=\"form-group\">\n                        <label>20-50h<\/label>\n                        <input type=\"text\" id=\"marge_20_50\" class=\"readonly\" readonly>\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>51-80h<\/label>\n                        <input type=\"text\" id=\"marge_51_80\" class=\"readonly\" readonly>\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>81-120h<\/label>\n                        <input type=\"text\" id=\"marge_81_120\" class=\"readonly\" readonly>\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>121-160h<\/label>\n                        <input type=\"text\" id=\"marge_121_160\" class=\"readonly\" readonly>\n                    <\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n        \n        <!-- SECTION 2: FORFAITS INFRASTRUCTURE -->\n        <div class=\"section\">\n            <div class=\"section-title\">2. Forfaits Infrastructure (Paliers)<\/div>\n            <div class=\"three-columns\">\n                <div class=\"column col-client\">\n                    <div class=\"column-title\">\ud83d\udcb0 Tarif Client<\/div>\n                    <div class=\"form-group\">\n                        <label>Minimum (0-50h)<\/label>\n                        <input type=\"number\" id=\"forfait_min\" value=\"50\" step=\"5\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>Lin\u00e9aire (51-120h) - \u20ac\/h<\/label>\n                        <input type=\"number\" id=\"forfait_lineaire\" value=\"1\" step=\"0.10\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>Maximum (121h+)<\/label>\n                        <input type=\"number\" id=\"forfait_max\" value=\"120\" step=\"5\">\n                    <\/div>\n                <\/div>\n                \n                <div class=\"column col-freelance\">\n                    <div class=\"column-title\">\ud83d\udcb8 Tes Co\u00fbts<\/div>\n                    <div class=\"form-group\">\n                        <label>VM \/mois (\u20ac)<\/label>\n                        <input type=\"number\" id=\"cout_vm\" value=\"7\" step=\"1\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>Virement \/mois (\u20ac)<\/label>\n                        <input type=\"number\" id=\"cout_virement\" value=\"25\" step=\"1\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>Total co\u00fbts fixes<\/label>\n                        <input type=\"text\" id=\"cout_total\" class=\"readonly\" readonly>\n                    <\/div>\n                <\/div>\n                \n                <div class=\"column col-marge\">\n                    <div class=\"column-title\">\u2705 Marge Nette<\/div>\n                    <div class=\"note\">\n                        La marge sur forfaits d\u00e9pend du nombre de clients par freelance.\n                        <br><br>\n                        Exemple : 2 clients \u00d7 80\u20ac = 160\u20ac<br>\n                        Moins co\u00fbts fixes 32\u20ac = 128\u20ac net\n                    <\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n        \n        <!-- SECTION 3: SETUP & SUIVI -->\n        <div class=\"section\">\n            <div class=\"section-title\">3. Setup & Forfait Suivi Annuel<\/div>\n            <div class=\"three-columns\">\n                <div class=\"column col-client\">\n                    <div class=\"column-title\">\ud83d\udcb0 Prix Client<\/div>\n                    <div class=\"form-group\">\n                        <label>Setup 3 mois (\u20ac)<\/label>\n                        <input type=\"number\" id=\"setup_3m\" value=\"800\" step=\"10\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>Setup 6 mois (\u20ac)<\/label>\n                        <input type=\"number\" id=\"setup_6m\" value=\"890\" step=\"10\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>Setup 12 mois (\u20ac)<\/label>\n                        <input type=\"number\" id=\"setup_12m\" value=\"1000\" step=\"10\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>Setup 24 mois (\u20ac)<\/label>\n                        <input type=\"number\" id=\"setup_24m\" value=\"1200\" step=\"10\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>Forfait suivi annuel standard (\u20ac)<\/label>\n                        <input type=\"number\" id=\"forfait_suivi_standard\" value=\"240\" step=\"10\">\n                    <\/div>\n                <\/div>\n                \n                <div class=\"column col-freelance\">\n                    <div class=\"column-title\">\ud83d\udcb8 Co\u00fbt Freelance<\/div>\n                    <div class=\"form-group\">\n                        <label>Setup<\/label>\n                        <input type=\"text\" value=\"0\u20ac\" class=\"readonly\" readonly>\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>Forfait suivi<\/label>\n                        <input type=\"text\" value=\"0\u20ac\" class=\"readonly\" readonly>\n                    <\/div>\n                    <div class=\"note\" style=\"margin-top: 40px;\">\n                        Les setups et forfaits suivi sont de la marge pure. La freelance ne re\u00e7oit rien.\n                    <\/div>\n                <\/div>\n                \n                <div class=\"column col-marge\">\n                    <div class=\"column-title\">\u2705 Ta Marge<\/div>\n                    <div class=\"form-group\">\n                        <label>Setup 3 mois<\/label>\n                        <input type=\"text\" id=\"marge_setup_3m\" class=\"readonly\" readonly>\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>Setup 6 mois<\/label>\n                        <input type=\"text\" id=\"marge_setup_6m\" class=\"readonly\" readonly>\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>Setup 12 mois<\/label>\n                        <input type=\"text\" id=\"marge_setup_12m\" class=\"readonly\" readonly>\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>Setup 24 mois<\/label>\n                        <input type=\"text\" id=\"marge_setup_24m\" class=\"readonly\" readonly>\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>Forfait suivi annuel<\/label>\n                        <input type=\"text\" id=\"marge_suivi\" class=\"readonly\" readonly>\n                    <\/div>\n                <\/div>\n            <\/div>\n            \n            <div style=\"margin-top: 20px;\">\n                <label style=\"font-weight: 600; margin-bottom: 10px; display: block;\">R\u00e9partition des engagements (%)<\/label>\n                <div style=\"display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px;\">\n                    <div class=\"form-group\">\n                        <label>3 mois (%)<\/label>\n                        <input type=\"number\" id=\"repart_3m\" value=\"10\" min=\"0\" max=\"100\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>6 mois (%)<\/label>\n                        <input type=\"number\" id=\"repart_6m\" value=\"20\" min=\"0\" max=\"100\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>12 mois (%)<\/label>\n                        <input type=\"number\" id=\"repart_12m\" value=\"50\" min=\"0\" max=\"100\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>24 mois (%)<\/label>\n                        <input type=\"number\" id=\"repart_24m\" value=\"20\" min=\"0\" max=\"100\">\n                    <\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n        \n        <!-- SECTION 4: CONFIGURATION ANN\u00c9ES -->\n        <div class=\"section\">\n            <div class=\"section-title\">4. Configuration par Ann\u00e9e<\/div>\n            <div id=\"years-container\">\n                <!-- Les ann\u00e9es seront ajout\u00e9es dynamiquement ici -->\n            <\/div>\n            <button class=\"btn btn-primary\" onclick=\"ajouterAnnee()\">+ Ajouter Ann\u00e9e<\/button>\n        <\/div>\n        \n        <!-- BOUTON CALCULER -->\n        <button class=\"btn btn-calculate\" onclick=\"calculer()\">\ud83d\ude80 CALCULER LA RENTABILIT\u00c9<\/button>\n        \n        <!-- R\u00c9SULTATS -->\n        <div id=\"results\" class=\"results hidden\">\n            <!-- Les r\u00e9sultats seront affich\u00e9s ici -->\n        <\/div>\n    <\/div>\n\n    <script>\n        let annees = [];\n        let nextAnneeNum = 1;\n        let nextFreelanceId = 1;\n        let nextClientId = 1;\n        \n        \/\/ Initialisation\n        document.addEventListener('DOMContentLoaded', function() {\n            ajouterAnnee();\n            calculerMarges();\n            \n            document.querySelectorAll('.phone-help-simulator input[type=\"number\"]').forEach(input => {\n                input.addEventListener('input', calculerMarges);\n            });\n        });\n        \n        function calculerMarges() {\n            const tarif2050 = parseFloat(document.getElementById('tarif_20_50').value);\n            const tarif5180 = parseFloat(document.getElementById('tarif_51_80').value);\n            const tarif81120 = parseFloat(document.getElementById('tarif_81_120').value);\n            const tarif121160 = parseFloat(document.getElementById('tarif_121_160').value);\n            const tarifFreelanceAn1 = parseFloat(document.getElementById('tarif_freelance_an1').value);\n            \n            document.getElementById('marge_20_50').value = (tarif2050 - tarifFreelanceAn1).toFixed(2) + '\u20ac\/h';\n            document.getElementById('marge_51_80').value = (tarif5180 - tarifFreelanceAn1).toFixed(2) + '\u20ac\/h';\n            document.getElementById('marge_81_120').value = (tarif81120 - tarifFreelanceAn1).toFixed(2) + '\u20ac\/h';\n            document.getElementById('marge_121_160').value = (tarif121160 - tarifFreelanceAn1).toFixed(2) + '\u20ac\/h';\n            \n            const vm = parseFloat(document.getElementById('cout_vm').value);\n            const virement = parseFloat(document.getElementById('cout_virement').value);\n            document.getElementById('cout_total').value = (vm + virement).toFixed(2) + '\u20ac';\n            \n            document.getElementById('marge_setup_3m').value = document.getElementById('setup_3m').value + '\u20ac';\n            document.getElementById('marge_setup_6m').value = document.getElementById('setup_6m').value + '\u20ac';\n            document.getElementById('marge_setup_12m').value = document.getElementById('setup_12m').value + '\u20ac';\n            document.getElementById('marge_setup_24m').value = document.getElementById('setup_24m').value + '\u20ac';\n            document.getElementById('marge_suivi').value = document.getElementById('forfait_suivi_standard').value + '\u20ac';\n        }\n        \n        function ajouterAnnee() {\n            const anneeNum = nextAnneeNum++;\n            const anneeData = {\n                num: anneeNum,\n                annee: 2024 + anneeNum,\n                freelances: []\n            };\n            annees.push(anneeData);\n            \n            const container = document.getElementById('years-container');\n            const anneeDiv = document.createElement('div');\n            anneeDiv.id = `annee-${anneeNum}`;\n            anneeDiv.className = 'section';\n            anneeDiv.style.background = '#fff';\n            anneeDiv.innerHTML = `\n                <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;\">\n                    <h3>Ann\u00e9e ${anneeNum} (${anneeData.annee})<\/h3>\n                    <button class=\"btn btn-danger\" onclick=\"supprimerAnnee(${anneeNum})\">Supprimer cette ann\u00e9e<\/button>\n                <\/div>\n                <div id=\"freelances-${anneeNum}\">\n                <\/div>\n                <button class=\"btn btn-add\" onclick=\"ajouterFreelance(${anneeNum})\">+ Ajouter Freelance<\/button>\n                <div class=\"form-group\" style=\"margin-top: 20px; max-width: 300px;\">\n                    <label>Nombre de nouveaux clients cette ann\u00e9e (pour setups)<\/label>\n                    <input type=\"number\" id=\"nouveaux_clients_${anneeNum}\" value=\"0\" min=\"0\">\n                <\/div>\n            `;\n            container.appendChild(anneeDiv);\n            \n            ajouterFreelance(anneeNum);\n        }\n        \n        function supprimerAnnee(anneeNum) {\n            if (annees.length <= 1) {\n                alert('Vous devez garder au moins une ann\u00e9e !');\n                return;\n            }\n            document.getElementById(`annee-${anneeNum}`).remove();\n            annees = annees.filter(a => a.num !== anneeNum);\n        }\n        \n        function ajouterFreelance(anneeNum) {\n            const freelanceId = nextFreelanceId++;\n            const annee = annees.find(a => a.num === anneeNum);\n            const freelanceData = {\n                id: freelanceId,\n                clients: []\n            };\n            annee.freelances.push(freelanceData);\n            \n            const container = document.getElementById(`freelances-${anneeNum}`);\n            const freelanceDiv = document.createElement('div');\n            freelanceDiv.id = `freelance-${freelanceId}`;\n            freelanceDiv.className = 'freelance-block';\n            freelanceDiv.innerHTML = `\n                <div class=\"freelance-title\">\n                    <span>Freelance ${annee.freelances.length}<\/span>\n                    <button class=\"btn btn-danger\" onclick=\"supprimerFreelance(${anneeNum}, ${freelanceId})\">Supprimer<\/button>\n                <\/div>\n                <div id=\"clients-${freelanceId}\">\n                <\/div>\n                <button class=\"btn btn-add\" onclick=\"ajouterClient(${anneeNum}, ${freelanceId})\">+ Ajouter Client<\/button>\n            `;\n            container.appendChild(freelanceDiv);\n            \n            ajouterClient(anneeNum, freelanceId);\n        }\n        \n        function supprimerFreelance(anneeNum, freelanceId) {\n            const annee = annees.find(a => a.num === anneeNum);\n            if (annee.freelances.length <= 1) {\n                alert('Vous devez garder au moins une freelance par ann\u00e9e !');\n                return;\n            }\n            document.getElementById(`freelance-${freelanceId}`).remove();\n            annee.freelances = annee.freelances.filter(f => f.id !== freelanceId);\n        }\n        \n        function ajouterClient(anneeNum, freelanceId) {\n            const clientId = nextClientId++;\n            const annee = annees.find(a => a.num === anneeNum);\n            const freelance = annee.freelances.find(f => f.id === freelanceId);\n            const clientData = {\n                id: clientId,\n                heures: 80,\n                forfaitSuivi: 240,\n                nouveauClient: false\n            };\n            freelance.clients.push(clientData);\n            \n            const container = document.getElementById(`clients-${freelanceId}`);\n            const clientDiv = document.createElement('div');\n            clientDiv.id = `client-${clientId}`;\n            clientDiv.className = 'client-card';\n            clientDiv.innerHTML = `\n                <div class=\"client-header\">\n                    <div class=\"client-name\">Client ${freelance.clients.length}<\/div>\n                    <button class=\"btn btn-danger\" onclick=\"supprimerClient(${anneeNum}, ${freelanceId}, ${clientId})\">\u2715<\/button>\n                <\/div>\n                <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 15px;\">\n                    <div class=\"form-group\">\n                        <label>Heures\/mois<\/label>\n                        <input type=\"number\" id=\"heures_${clientId}\" value=\"80\" min=\"20\" max=\"160\" step=\"10\">\n                    <\/div>\n                    <div class=\"form-group\">\n                        <label>Forfait suivi annuel (\u20ac)<\/label>\n                        <select id=\"suivi_${clientId}\">\n                            <option value=\"0\">Aucun (0\u20ac)<\/option>\n                            <option value=\"240\" selected>Standard (240\u20ac)<\/option>\n                            <option value=\"350\">\u00c9lev\u00e9 (350\u20ac)<\/option>\n                            <option value=\"500\">Premium (500\u20ac)<\/option>\n                        <\/select>\n                    <\/div>\n                <\/div>\n            `;\n            container.appendChild(clientDiv);\n        }\n        \n        function supprimerClient(anneeNum, freelanceId, clientId) {\n            const annee = annees.find(a => a.num === anneeNum);\n            const freelance = annee.freelances.find(f => f.id === freelanceId);\n            if (freelance.clients.length <= 1) {\n                alert('Vous devez garder au moins un client par freelance !');\n                return;\n            }\n            document.getElementById(`client-${clientId}`).remove();\n            freelance.clients = freelance.clients.filter(c => c.id !== clientId);\n        }\n        \n        function getTarifHoraireClient(heures) {\n            if (heures <= 50) return parseFloat(document.getElementById('tarif_20_50').value);\n            if (heures <= 80) return parseFloat(document.getElementById('tarif_51_80').value);\n            if (heures <= 120) return parseFloat(document.getElementById('tarif_81_120').value);\n            return parseFloat(document.getElementById('tarif_121_160').value);\n        }\n        \n        function getForfaitInfra(heures) {\n            const min = parseFloat(document.getElementById('forfait_min').value);\n            const lineaire = parseFloat(document.getElementById('forfait_lineaire').value);\n            const max = parseFloat(document.getElementById('forfait_max').value);\n            \n            if (heures <= 50) return min;\n            if (heures <= 120) return heures * lineaire;\n            return max;\n        }\n        \n        function calculer() {\n            const resultatsDiv = document.getElementById('results');\n            resultatsDiv.innerHTML = '';\n            resultatsDiv.classList.remove('hidden');\n            \n            let html = '<div class=\"results-title\">\ud83d\udcca R\u00c9SULTATS DE LA SIMULATION<\/div>';\n            \n            let profitTotalGlobal = 0;\n            \n            annees.forEach(annee => {\n                const tarifFreelance = parseFloat(document.getElementById(`tarif_freelance_an${annee.num}`).value);\n                const nouveauxClients = parseInt(document.getElementById(`nouveaux_clients_${annee.num}`).value) || 0;\n                \n                const setup3m = parseFloat(document.getElementById('setup_3m').value);\n                const setup6m = parseFloat(document.getElementById('setup_6m').value);\n                const setup12m = parseFloat(document.getElementById('setup_12m').value);\n                const setup24m = parseFloat(document.getElementById('setup_24m').value);\n                \n                const repart3m = parseFloat(document.getElementById('repart_3m').value) \/ 100;\n                const repart6m = parseFloat(document.getElementById('repart_6m').value) \/ 100;\n                const repart12m = parseFloat(document.getElementById('repart_12m').value) \/ 100;\n                const repart24m = parseFloat(document.getElementById('repart_24m').value) \/ 100;\n                \n                const nb3m = Math.round(nouveauxClients * repart3m);\n                const nb6m = Math.round(nouveauxClients * repart6m);\n                const nb12m = Math.round(nouveauxClients * repart12m);\n                const nb24m = nouveauxClients - nb3m - nb6m - nb12m;\n                \n                const revenusSetups = (nb3m * setup3m) + (nb6m * setup6m) + (nb12m * setup12m) + (nb24m * setup24m);\n                \n                let totalHeures = 0;\n                let totalClients = 0;\n                let revenusHeures = 0;\n                let coutFreelances = 0;\n                let revenusForfaits = 0;\n                let revenusSuivi = 0;\n                \n                annee.freelances.forEach(freelance => {\n                    freelance.clients.forEach(client => {\n                        const heures = parseFloat(document.getElementById(`heures_${client.id}`).value);\n                        const suiviAnnuel = parseFloat(document.getElementById(`suivi_${client.id}`).value);\n                        \n                        totalHeures += heures;\n                        totalClients++;\n                        \n                        const tarifClient = getTarifHoraireClient(heures);\n                        const forfaitInfra = getForfaitInfra(heures);\n                        \n                        revenusHeures += heures * tarifClient;\n                        coutFreelances += heures * tarifFreelance;\n                        revenusForfaits += forfaitInfra;\n                        revenusSuivi += suiviAnnuel;\n                    });\n                });\n                \n                const margeHeures = revenusHeures - coutFreelances;\n                const vm = parseFloat(document.getElementById('cout_vm').value);\n                const virement = parseFloat(document.getElementById('cout_virement').value);\n                const coutsFixes = (vm + virement) * annee.freelances.length * 12;\n                \n                const margeForfaits = revenusForfaits * 12;\n                const margeSuivi = revenusSuivi;\n                \n                const profitRecurrent = (margeHeures * 12) + margeForfaits + margeSuivi - coutsFixes;\n                const profitTotal = revenusSetups + profitRecurrent;\n                \n                profitTotalGlobal += profitTotal;\n                \n                html += `\n                    <div class=\"year-result\">\n                        <div class=\"year-title\">Ann\u00e9e ${annee.num} (${annee.annee})<\/div>\n                        \n                        <div class=\"result-grid\">\n                            <div class=\"result-box\">\n                                <div class=\"result-label\">Freelances<\/div>\n                                <div class=\"result-value\">${annee.freelances.length}<\/div>\n                            <\/div>\n                            <div class=\"result-box\">\n                                <div class=\"result-label\">Clients totaux<\/div>\n                                <div class=\"result-value\">${totalClients}<\/div>\n                            <\/div>\n                            <div class=\"result-box\">\n                                <div class=\"result-label\">Heures\/mois<\/div>\n                                <div class=\"result-value\">${totalHeures}h<\/div>\n                            <\/div>\n                        <\/div>\n                        \n                        <div class=\"breakdown\">\n                            <div class=\"breakdown-title\">\ud83d\udcb0 SETUPS (nouveaux clients: ${nouveauxClients})<\/div>\n                            <div class=\"breakdown-line\">\n                                <span>${nb3m} \u00d7 ${setup3m}\u20ac (3 mois)<\/span>\n                                <span>${(nb3m * setup3m).toFixed(0)}\u20ac<\/span>\n                            <\/div>\n                            <div class=\"breakdown-line\">\n                                <span>${nb6m} \u00d7 ${setup6m}\u20ac (6 mois)<\/span>\n                                <span>${(nb6m * setup6m).toFixed(0)}\u20ac<\/span>\n                            <\/div>\n                            <div class=\"breakdown-line\">\n                                <span>${nb12m} \u00d7 ${setup12m}\u20ac (12 mois)<\/span>\n                                <span>${(nb12m * setup12m).toFixed(0)}\u20ac<\/span>\n                            <\/div>\n                            <div class=\"breakdown-line\">\n                                <span>${nb24m} \u00d7 ${setup24m}\u20ac (24 mois)<\/span>\n                                <span>${(nb24m * setup24m).toFixed(0)}\u20ac<\/span>\n                            <\/div>\n                            <div class=\"breakdown-line\">\n                                <span><strong>Total Setups<\/strong><\/span>\n                                <span><strong>${revenusSetups.toFixed(0)}\u20ac<\/strong><\/span>\n                            <\/div>\n                        <\/div>\n                        \n                        <div class=\"breakdown\">\n                            <div class=\"breakdown-title\">\ud83d\udd04 R\u00c9CURRENT ANNUEL<\/div>\n                            <div class=\"breakdown-line\">\n                                <span>Marge heures (${totalHeures}h\/mois \u00d7 12)<\/span>\n                                <span>${(margeHeures * 12).toFixed(0)}\u20ac<\/span>\n                            <\/div>\n                            <div class=\"breakdown-line\">\n                                <span>Forfaits infrastructure \u00d7 12<\/span>\n                                <span>${margeForfaits.toFixed(0)}\u20ac<\/span>\n                            <\/div>\n                            <div class=\"breakdown-line\">\n                                <span>Forfaits suivi annuels<\/span>\n                                <span>${margeSuivi.toFixed(0)}\u20ac<\/span>\n                            <\/div>\n                            <div class=\"breakdown-line\">\n                                <span>Co\u00fbts fixes (VM + virements)<\/span>\n                                <span>-${coutsFixes.toFixed(0)}\u20ac<\/span>\n                            <\/div>\n                            <div class=\"breakdown-line\">\n                                <span><strong>Profit R\u00e9current<\/strong><\/span>\n                                <span><strong>${profitRecurrent.toFixed(0)}\u20ac<\/strong><\/span>\n                            <\/div>\n                        <\/div>\n                        \n                        <div class=\"profit-total\">\n                            <div class=\"profit-label\">PROFIT TOTAL ANN\u00c9E ${annee.num}<\/div>\n                            <div class=\"profit-amount\">${profitTotal.toFixed(0).replace(\/\\B(?=(\\d{3})+(?!\\d))\/g, \" \")}\u20ac<\/div>\n                            <div class=\"profit-label\" style=\"margin-top: 10px;\">Soit ${(profitTotal \/ 12).toFixed(0)}\u20ac\/mois en moyenne<\/div>\n                        <\/div>\n                    <\/div>\n                `;\n            });\n            \n            html += `\n                <div class=\"year-result\" style=\"border-left-color: #27ae60;\">\n                    <div class=\"year-title\">\ud83d\udcc8 R\u00c9SUM\u00c9 ${annees.length} ANS<\/div>\n                    <div class=\"profit-total\" style=\"background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);\">\n                        <div class=\"profit-label\">PROFIT CUMUL\u00c9 ${annees.length} ANS<\/div>\n                        <div class=\"profit-amount\">${profitTotalGlobal.toFixed(0).replace(\/\\B(?=(\\d{3})+(?!\\d))\/g, \" \")}\u20ac<\/div>\n                        <div class=\"profit-label\" style=\"margin-top: 10px;\">\n                            Soit ${(profitTotalGlobal \/ annees.length).toFixed(0)}\u20ac\/an en moyenne\n                        <\/div>\n                    <\/div>\n                <\/div>\n            `;\n            \n            resultatsDiv.innerHTML = html;\n            resultatsDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });\n        }\n    <\/script>\n    \n    <?php\n    return ob_get_clean();\n}\n\nadd_shortcode('phone_help_simulator', 'phone_help_simulator_shortcode');\n?>\n```\n\n---\n\n## \ud83d\udcdd COMMENT L'INSTALLER :\n\n1. **Va dans WordPress** \u2192 Extensions \u2192 Code Snippets\n2. **Ajoute un nouveau snippet**\n3. **Colle le code ci-dessus**\n4. **Sauvegarde et active**\n5. **Utilise le shortcode** dans n'importe quelle page :\n```\n[phone_help_simulator]","tags":["phonehelp","renta"],"active":true,"modified":"2025-10-17 20:47:41","revision":"1"}]}